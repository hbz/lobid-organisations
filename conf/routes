# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

#OpenRefine reconciliation endpoint
GET     /organisations/reconcile                 controllers.Reconcile.meta(callback ?= "")
POST    /organisations/reconcile                 controllers.Reconcile.reconcile()

# TODO: remove `search` route, replaced by `organisations`, but used as beta API
GET     /organisations/search                    controllers.Application.search(q ?= null, location ?= null, from: Int ?= 0, size: Int ?= 20, format ?= null)

# Home page
GET     /organisations                           controllers.Application.search(q ?= null, location ?= null, from: Int ?= 0, size: Int ?= 20, format ?= null)
GET     /organisations/api                       controllers.Application.api()
GET     /organisations/context.jsonld            controllers.Application.context()
GET     /organisations/:id                       controllers.Application.get(id, format ?= null)

# Map static resources from the /public folder to the /assets URL path
GET     /organisations/public/*file              controllers.Assets.at(path="/public", file)

# Indexing
POST    /organisations/index                     controllers.Index.start()

# Transformation    
POST    /organisations/transform                 controllers.Transformation.startTransformation()